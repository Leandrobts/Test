<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <title>PS4 12.00 Exploit Host</title>
        <style>
            body {
                background-color: #0d0d0d;
                color: #00ff00;
                font-family: 'Courier New', Courier, monospace;
                padding: 20px;
                text-align: left;
            }
            h1 {
                border-bottom: 1px solid #333;
                padding-bottom: 10px;
            }
            #console {
                border: 1px solid #333;
                background-color: #1a1a1a;
                padding: 10px;
                margin-top: 20px;
                white-space: pre-wrap;
                word-wrap: break-word;
                min-height: 300px;
            }
        </style>
    </head>
    <body>
        <h1>PSFree: Modular Chain (FW 12.00 Research)</h1>
        <div id="console">Initializing loader...</div>

        <script type="module">
            // Tratamento de Erros Global (Substitui funcionalidade básica do alert.mjs)
            window.addEventListener('error', (event) => {
                const msg = `[ERROR] ${event.message} \nAt: ${event.filename}:${event.lineno}`;
                document.getElementById('console').innerText += '\n' + msg;
                alert(msg); // Opcional: Manter alert para debug visual rápido
            });

            window.addEventListener('unhandledrejection', (event) => {
                const msg = `[PROMISE REJECT] ${event.reason}`;
                document.getElementById('console').innerText += '\n' + msg;
            });

            // Inicia a cadeia importando o script principal do WebKit
            import('./psfree.mjs');
        </script>
    </body>
</html>
